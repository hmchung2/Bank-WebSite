# Bank-WebSite

## 시연영상

프로그램 시연 동영상입니다. 
클릭 -->

[![영상](https://img.youtube.com/vi/LBIXU1WXr8k/0.jpg)](https://www.youtube.com/watch?v=LBIXU1WXr8k)

## 프로그램 실행 방법

# oracle DB 필요

# 자기 자신 혹은 다른 db 에게 db링크 연결 필요
# 시스템 계정에서 실행
시스템 계정에서 사용자 계정으로 링크

create public database link wclink connect to 사용자아이디 identified by "비밀번호" using
'(DESCRIPTION=
(ADDRESS=(PROTOCOL=TCP)(HOST=호스트주소)(PORT=포트번호))
(CONNECT_DATA=(SERVICE_NAME=서비스이름))
)';


# 사용자 계정에서 실행
DROP TABLE WC_USER CASCADE CONSTRAINTS;
create table wc_user(
    ID VARCHAR2(30) PRIMARY KEY,
    PASSWORD VARCHAR2(30) NOT NULL,
    NAME VARCHAR2(100) NOT NULL,
    SSN VARCHAR2(20) NOT NULL,
    PHONE VARCHAR2(20),
    EMAIL VARCHAR2(100),
    OPT1 CHAR(1) NOT NULL CONSTRAINT WC_USER_OPT1_CK CHECK (OPT1 IN ('T' , 'F')),
    OPT2 CHAR(1) NOT NULL CONSTRAINT WC_USER_OPT2_CK CHECK (OPT2 IN ('T' , 'F')),
    REG_DATE DATE DEFAULT SYSDATE,
    KAKAO_ID VARCHAR2(30) UNIQUE,
    KAKAO_EMAIL VARCHAR2(100) UNIQUE,
    USER_TYPE CHAR(1) NOT NULL CONSTRAINT WC_USER_TYPE_CK CHECK (USER_TYPE IN ('1','2','3'))    
);
SELECT * FROM WC_USER;
CREATE TABLE WC_ACCOUNT(
    ACC_NUM VARCHAR2(30) PRIMARY KEY,
    NICK VARCHAR2(100),
    ID VARCHAR2(30) NOT NULL,
    ACC_PWD VARCHAR2(30) NOT NULL,
    ACC_BALANCE NUMBER NOT NULL,
    MAXOPT CHAR(1) NOT NULL CONSTRAINT WC_ACCOUNT_MAXOPT_CK CHECK (MAXOPT IN ('T' , 'F')),
    MAXVAL NUMBER,
    OPENOPT CHAR(1) NOT NULL CONSTRAINT WC_ACCOUNT_OPENOPT_CK CHECK(OPENOPT IN ('T' , 'F')),
    REG_DATE DATE DEFAULT SYSDATE,
    CONSTRAINT WC_ACCOUNT_ID_FK FOREIGN KEY (ID) REFERENCES WC_USER(ID)
);
CREATE SEQUENCE WC_LOG_SEQ
 START WITH     1
 INCREMENT BY   1
 NOCACHE
 NOCYCLE;
 DROP TABLE WC_LOG;
CREATE TABLE WC_LOG(
    INDEX_ORDER NUMBER DEFAULT WC_LOG_SEQ.NEXTVAL PRIMARY KEY,
    T_DATE DATE DEFAULT SYSDATE,
    ACC_NUM VARCHAR2(30) NOT NULL,
    ACTION CHAR(1) NOT NULL CONSTRAINT WC_LOG_TYPE_CK CHECK (ACTION IN ('D' , 'W')),
    AMOUNT NUMBER NOT NULL,
    OTHER_ACC_NUM VARCHAR2(30) NOT NULL,
    OTHER_BANK_NAME VARCHAR2(30) NOT NULL,
    PRE_BALANCE NUMBER,
    POST_BALANCE NUMBER
);
CREATE TABLE WC_TOTAL_USER(
    TOTAL_ID VARCHAR2(30) PRIMARY KEY,
    ID VARCHAR(30) NOT NULL,
    TOTAL_NICK VARCHAR2(100),
    TOTAL_PWD VARCHAR2(30) NOT NULL,
    OPT1 CHAR(1) NOT NULL CONSTRAINT WC_TOTAL_OPT_CK1 CHECK (OPT1 IN ('T' , 'F')),
    OPT2 CHAR(1) NOT NULL CONSTRAINT WC_TOTAL_OPT_CK2 CHECK (OPT2 IN ('T' , 'F')),
    REG_DATE DATE DEFAULT SYSDATE,
    CONSTRAINT WC_TOTAL_USER_ID_FK FOREIGN KEY (ID) REFERENCES WC_USER(ID)    
);
CREATE TABLE WC_TOTAL_ACCOUNT(
    BANK_NAME VARCHAR2(30) NOT NULL,
    ACC_NUM VARCHAR2(30) NOT NULL,
    TOTAL_ID VARCHAR2(30) NOT NULL,
    REG_DATE DATE DEFAULT SYSDATE,
    CONSTRAINT WC_TOTAL_ACCOUNT_TTID_FK FOREIGN KEY (TOTAL_ID) REFERENCES WC_TOTAL_USER(TOTAL_ID),
    CONSTRAINT WC_TOTAL_PK primary key (BANK_NAME,ACC_NUM , TOTAL_ID)
    );

CREATE SEQUENCE WC_BOARD_SEQ
 START WITH     1
 INCREMENT BY   1
 NOCACHE
 NOCYCLE;
 drop table wc_board;
CREATE TABLE WC_BOARD(
    index_order NUMBER DEFAULT WC_BOARD_SEQ.NEXTVAL PRIMARY KEY,
    REG_DATE DATE DEFAULT SYSDATE,
    ID VARCHAR2(30),
    TITLE VARCHAR2(2000),
    VIEW_COUNT NUMBER,
    VIS VARCHAR2(30),
    MESSAGE VARCHAR2(2000),
    CONSTRAINT WC_BOARD_ID_FK FOREIGN KEY (ID) REFERENCES WC_USER(ID)
);



CREATE SEQUENCE WC_BOARD_REPLY_SEQ
 START WITH     1
 INCREMENT BY   1
 NOCACHE
 NOCYCLE;
 drop table wc_board_REPLY;
CREATE TABLE WC_BOARD_REPLY(
    index_order NUMBER,
    reply_index number DEFAULT WC_BOARD_REPLY_SEQ.NEXTVAL PRIMARY KEY,
    REG_DATE DATE DEFAULT SYSDATE,
    ID VARCHAR2(30),
    TITLE VARCHAR2(30),
    VIEW_COUNT NUMBER,
    VIS VARCHAR2(30),
    MESSAGE VARCHAR2(2000),
    CONSTRAINT WC_BOARD_REPLY_ID_FK FOREIGN KEY (ID) REFERENCES WC_USER(ID)
);





